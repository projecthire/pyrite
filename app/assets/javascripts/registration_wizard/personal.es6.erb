$(document).on('ready', function()
{
  $('#new_candidate')
    .formValidation({
      framework: 'bootstrap',
      fields: {
        'candidate[name]': {
          validators: {
            notEmpty: {
              message: 'Name is required.'
            }
          }
        },
        'candidate[email]': {
          validators: {
            notEmpty: {
              message: 'Email is required.'
            }
          }
        }
      }
    })
    .on('success.form.fv', function(e)
    {
      // the form is valid
      var $form = $(e.target);
      if ($form.data('remote')) {
        e.preventDefault();
        return false;
      }
    })
    .on('submit', function(e)
    {
      var $form = $(e.target);
      if ($form.data('remote')) {
        var numInvalidFields = $form.data('formValidation').getInvalidFields().length;
        if (numInvalidFields) {
          e.preventDefault();
          return false;
        }
      }
    });
});
